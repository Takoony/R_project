getwd()
setwd()
setwd("D:/DIALY")
setwd("G:/DIALY")
setwd("G:\\daily")
setwd("G:\\daily")
setwd("G:/daily")
setwd("G:")
sr701 <- read.table("SR701.txt,", header =T)
sr701 <- read.table("DAILY/SR701.txt,", header =T)
sr701 <- read.table("DAILY/price/SR701.txt,", header =T)
sr1701 <- read.table("DAILY/price/SR1701.txt,", header =T)
sr1701 <- read.table("DAILY/price/SR1701.txt", header =T)
sr1701 <- read.table("DAILY/PRICE/SR1701.txt", header =T)
getwd()
setwd("G:")
getwd()
setwd("G:/")
getwd()
sr1701 <- read.table("DAILY/PRICE/SR1701.txt", header =T)
fp_file <- "DAILY/PRICE/SR1701.txt"
sp_file<-"DAILY/PRICE/SR1705.txt"
rtvs::debug_source("script.R")
fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T)
SR701
head(fp_symbol)
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics)
ins
ins
ins
inst
ins
ins
install.pa
install.packages
install.packages("XTS")
install.packages("xts")
ins
install.packages("reshape2")
install.packages("fBasics")
install.packages("timeDate")
install.packages("timeSeries")
install.packages("TTR")
install.packages("ggplot2")
install.packages("quantmod")
install.packages("PerformanceAnalytics")
fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1]))
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics)
fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1]))
head(fpx)
head(fpx_symbol)
spreads = fpx_symbol[4] - spx_symbol[4]
fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[4] - spx_symbol[4] plot(spreads, type = "l", main = "")
spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1]))
spreads = fpx_symbol[4] - spx_symbol[4]
head(spreads)
plot(spreads[4], type = "l", main = "")
head(fpx_symbol[4])
spreads = fpx_symbol[,4] - spx_symbol[,4]
plot(spreads, type = "l", main = "")
spreads = fpx_symbol - spx_symbol
plot(spreads, type = "l", main = "")
plot(spreads[,4], type = "l", main = "")
fp_file <- "DAILY/PRICE/SR1601.txt" sp_file<-"DAILY/PRICE/SR1605.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] spreads = fpx_symbol - spx_symbol plot(spreads[,4], type = "l", main = "SR701-705")
?plot
plot(spreads[, 4], type = "l", col =blues9, main = "SR701-705")
plot(spreads[, 4], type = "l", col ="blue", main = "SR701-705")
plot(spreads[, 4], type = "l", col ="dark red", main = "SR701-705")
plot(spreads[, 4], type = "l",  main = "SR701-705")
hist(spreads[, 4])
plot(spreads[, 4], type = "l", main = "SR701-705")
cor(fpx_symbol[, 5], spreads[, 4])
cor(fcor_data, scor_data, method = "spearman")
fcor_data <- fpx_symbol[, 4] scor_data <- spx_symbol[, 4]
cor(fcor_data, scor_data, method = "spearman")
fcor_data <- fpx_symbol[, 4] scor_data <- spreads[, 4] cor(fcor_data, scor_data, method = "spearman")
#两序列动态相关系数 cor_dynamic = 0 cor_start_count = 10 fcor_data = cor_value[, 1] scor_data = cor_value[, 2] for (i in (cor_start_count + 1):length(cor_vector_first)) {     cor_dynamic[i - cor_start_count] = cor(cor_vector_first[(i - count):i], cor_vector_second[(i - count):i]) } plot(cor_dynamic, type = "l")
#两序列动态相关系数 cor_dynamic = 0 cor_start_count = 10 cor_vector_first = fcor_data cor_vector_second = scor_data for (i in (cor_start_count + 1):length(cor_vector_first)) {     cor_dynamic[i - cor_start_count] = cor(cor_vector_first[(i - count):i], cor_vector_second[(i - count):i]) } plot(cor_dynamic, type = "l")
length(cor_vector_first)
count = length(cor_vector_first) cor_dynamic = 0 cor_start_count = 10 cor_vector_first = fcor_data cor_vector_second = scor_data for (i in (cor_start_count + 1):length(cor_vector_first)) {     cor_dynamic[i - cor_start_count] = cor(cor_vector_first[(i - count):i], cor_vector_second[(i - count):i]) } plot(cor_dynamic, type = "l")
cor_dynamic = 0 cor_start_count = 10 cor_vector_first = fcor_data cor_vector_second = scor_data for (i in (cor_start_count + 1):length(cor_vector_first)) {     cor_dynamic[i - cor_start_count] = cor(cor_vector_first[(i - cor_start_count):i], cor_vector_second[(i - cor_start_count):i]) } plot(cor_dynamic, type = "l")
plot(cor_dynamic, type = "l", maintainer="SR701与SR701-705价差相关图")
plot(cor_dynamic, type = "l", main="SR701与SR701-705价差相关图")
xcor_dynamic = xts(as.matrix(cor_dynamic), as.Date(fp_symbol[, 1]))
xcor_dynamic = xts(as.matrix(cor_dynamic), as.Date(fp_symbol[10:118, 1]))
xcor_dynamic = xts(as.matrix(cor_dynamic), as.Date(fp_symbol[11:118, 1]))
head(xcor)
head(xcor_dynamic)
plot(cor_dynamic, type = "l", main="SR701与SR701-705价差相关图")
plot(xcor_dynamic, type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic, cor=blue type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic, cor=blue, type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic, cor="blue", type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic, col="blue", type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic,cor="blues9",  type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic,cor="blue",  type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic,cor="blue", type = "l", main = "SR701与SR701-705价差相关图")
plot(xcor_dynamic,col="blue", type = "l", main = "SR701与SR701-705价差相关图")
?read.csv
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics)
setwd("G:/") getwd() #f代表first,p代表时间，即跨期  fp开头代表跨期套利中的每一个 #x代表xts格式 fpx  fp_file <- "DAILY/PRICE/SR1701.txt" sp_file <- "DAILY/PRICE/SR1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] spreads = fpx_symbol - spx_symbol
plot(spreads[, 4], type = "l", main = "SR701-705")
basicStats(spreads)
basicStats(spreads[,4])
max(spreads[, 4])
which(spr)
which(spreads[,4]==2)
head(spreads[, 4])
class(spreads[, 4])
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics)
setwd("G:/") getwd() #f代表first,p代表时间，即跨期  fp开头代表跨期套利中的每一个 #x代表xts格式 fpx  fp_file <- "DAILY/PRICE/SR1701.txt" sp_file <- "DAILY/PRICE/SR1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T)
head(fp_file)
head(fp_symbol)
class(fp_symbol[1,1])
class(fp_symbol[2,1])
class(fp_symbol[2fp_symbol <- read.table(fp_file, header = T, stringsAsFactors = false),1])
fp_symbol <- read.table(fp_file, header = T, stringsAsFactors = FALSE)
class(fp_symbol[2,1])
head(fp_symbol)
class(fp_symbol[3,1])
fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1]))
head(fpx_symbol)
class(fp_symbol[3,1])
class(fpx_symbol[3,1])
str(fpx_symbol[3,1])
fpx_symbol[3,1]
head(fp_sy)
head(fp_symbol)
class(fp_symbol[,1])
class(fp_symbol[,2])
class(fp_symbol[,3])
?read.csv
default.stringsAsFactors()
class(fp_symbol)
str(fp_symbol)
fp_file <- "DAILY/PRICE/SR1701.txt" sp_file <- "DAILY/PRICE/SR1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] spreads = fpx_symbol - spx_symbol basicStats(spreads[,4]) max(spreads[, 4]) plot(spreads[, 4], type = "l", main = "SR701-705")
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics)
fp_file <- "DAILY/PRICE/RU1701.txt" sp_file <- "DAILY/PRICE/RU1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] spreads = fpx_symbol - spx_symbol basicStats(spreads[,4]) max(spreads[, 4])
fp_file <- "DAILY/PRICE/RU1701.txt" sp_file <- "DAILY/PRICE/RU1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T)
setwd("G:/") getwd()
fp_file <- "DAILY/PRICE/RU1701.txt" sp_file <- "DAILY/PRICE/RU1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1]))
spreads = fpx_symbol[, 4] - spx_symbol[, 4] spreads = fpx_symbol - spx_symbol basicStats(spreads[,4]) max(spreads[, 4])
plot(spreads[, 4], type = "l", main = "RU701-RU705")
head(fpx_symbol(     ) )
 head(fpx_symbol(     ) )
head(fp_symbol)
head(fpx_symbol)
cc=fpx_symbol["close"]
cc=fpx_symbol['close']
head(yy1 = fpx_symbol[, "Close"] y2 = spreads)
y1 = fpx_symbol[, "Close"]
y2 = spreads
head(y1)
y1 = fpx_symbol[, "close"]
head(y1)
head(y2)
y2 = spreads[,4]
head(y2)
basicStats(y1)
xpos = index(y1) twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
installed.packages("plotrix")
library(plotrix)
installed.packages("plotrix")
install.packages("plotrix")
library(plotrix)
twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l"))
length(y1)
length(y2)
fp_file <- "DAILY/PRICE/RU1701.txt" sp_file <- "DAILY/PRICE/RU1705.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4]
head(spreads)
head(fpx_symbol[, "close"])
head(fp_symbol)
head(sp_symbol)
tail(sp_symbol)
fpx_symbol[, 4][2016-05-17/2016-09-26]
 fpx_symbol[, 4][2016-05-17:2016-09-26]
 fpx_symbol[, 4][2016/05/17:2016/09/26]
spreads = fpx_symbol[, 4] - spx_symbol[, 4]
hed(spread)
hed(spreads)
head(spreads)
 fpx_symbol[, 4]['2016-05-17/2016']
y1 = fpx_symbol[, "close"]['2016-05-17/2016'] y2 = spreads[, 4]['2016-05-17/2016']
y1 = fpx_symbol[, "close"]['2016-05-17/2016']
length(y1)
length(y2)
xpos = index(y1) twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l"))
twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0),      xticklab = as.character(xpos), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
xticklab = as.character(xpos)
head(xticklab)
twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(11500, 15000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price", rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(11500, 15000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
fp_file <- "DAILY/PRICE/RU1601.txt" sp_file <- "DAILY/PRICE/RU1605.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] #spreads = fpx_symbol - spx_symbol basicStats(spreads[,4]) max(spreads[, 4]) plot(spreads[, 4], type = "l", main = "RU701-RU705") y1 = fpx_symbol[, "close"]['2016-05-17/2016'] y2 = spreads[, 4] xpos = index(y1) twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(11500, 15000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
fp_file <- "DAILY/PRICE/RU1601.txt" sp_file <- "DAILY/PRICE/RU1605.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] #spreads = fpx_symbol - spx_symbol
dd=min(index(y1),index(y2))
dd
basicStats(spreads[,4]) max(spreads[, 4]) plot(spreads[, 4], type = "l", main = "RU701-RU705")
fp_file <- "DAILY/PRICE/RU1601.txt" sp_file <- "DAILY/PRICE/RU1605.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4]
head(fpx_symbol)
head(fpx_symbo)
head(spreads)
basicStats(spreads) plot(spreads, type = "l", main = "RU701-RU705")
y1 = fpx_symbol[, "close"]#['2016-05-17/2016'] y2 = spreads xpos = index(y1) twoord.plot(xpos, y1, xpos, y2, lylim = c(11500, 15000), rylim = c(-255, 0), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(11500, 15000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
basicStats(spreads)
basicStats(y1) basicStats(y2)
twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-300, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 10000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-300, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-300, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
    xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-400, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "price",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "spread", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-400, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "ru1601",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "ru1601-1605", type = c("l", "l"))
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics) library(plotrix) setwd("G:/") getwd() #f代表first,p代表时间，即跨期  fp开头代表跨期套利中的每一个 #x代表xts格式 fpx  #fp_file <- "DAILY/PRICE/SR1701.txt" #sp_file <- "DAILY/PRICE/SR1705.txt" fp_file <- "DAILY/PRICE/RU1601.txt" sp_file <- "DAILY/PRICE/RU1605.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] #spreads = fpx_symbol - spx_symbol basicStats(spreads) plot(spreads, type = "l", main = "RU701-RU705") y1 = fpx_symbol[, "close"]#['2016-05-17/2016'] y2 = spreads xpos = index(y1) basicStats(y1) basicStats(y2) twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-400, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "ru1601",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "ru1601-1605", type = c("l", "l")) #hist(spreads[, 4])
fp_file <- "DAILY/PRICE/RU8888.txt" sp_file <- "DAILY/PRICE/RU7777.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1])) spreads = fpx_symbol[, 4] - spx_symbol[, 4] #spreads = fpx_symbol - spx_symbol basicStats(spreads) plot(spreads, type = "l", main = "RU701-RU705") y1 = fpx_symbol[, "close"]#['2016-05-17/2016'] y2 = spreads xpos = index(y1) basicStats(y1) basicStats(y2) twoord.plot(xpos, y1, xpos, y2, lylim = c(10000, 12000), rylim = c(-400, 1200), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(10000, 12000, by = 500), rytickpos = seq(-400, 1200, by = 400), lcol = 4, rcol = 2, xlab = "time", ylab = "ru1601",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "ru1601-1605", type = c("l", "l")) #hist(spreads[, 4])
basicStats(y1)
basicStats(y2)
twoord.plot(xpos, y1, xpos, y2, lylim = c(9500, 14500), rylim = c(-2000, 1000), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(9500, 14500, by = 500), rytickpos = seq(-2000, 1000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "ru1601",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "ru1601-1605", type = c("l", "l")) #hist(spreads[, 4])
twoord.plot(xpos, y1, xpos, y2, lylim = c(9500, 14500), rylim = c(-2000, 1000), xtickpos = as.numeric(xpos),     xticklab = as.character(xpos), lytickpos = seq(9500, 14500, by = 500), rytickpos = seq(-2000, 1000, by = 500), lcol = 4, rcol = 2, xlab = "time", ylab = "ru-main",     do.first = 'plot_bg(col = \'gray\'); grid(col = \'white\', lty = 2)', rylab = "ru-spread", type = c("l", "l")) #hist(spreads[, 4])
delivery_cost <-data.frame(仓储费=1.3,入库费=30,出库费=30,过户费=1,仓单打印费=10)
delivery_cost
delivery_cost$`仓储费`
delivery_cost <- data.frame(storage= 1.3, import = 30, export= 30, transfer = 1, order_print = 10)
delivery_cost
library(xts) library(reshape2) library(fBasics) library(timeDate) library(timeSeries) library(TTR) library(ggplot2) library(quantmod) library(PerformanceAnalytics) library(plotrix) setwd("G:/") getwd() #f代表first,p代表时间，即跨期  fp开头代表跨期套利中的每一个 #x代表xts格式 fpx  #fp_file <- "DAILY/PRICE/SR1701.txt" #sp_file <- "DAILY/PRICE/SR1705.txt" fp_file <- "DAILY/PRICE/RU8888.txt" sp_file <- "DAILY/PRICE/RU7777.txt" fp_symbol <- read.table(fp_file, header = T) sp_symbol <- read.table(sp_file, header = T) fpx_symbol = xts(as.matrix(fp_symbol[, -1]), as.Date(fp_symbol[, 1])) spx_symbol = xts(as.matrix(sp_symbol[, -1]), as.Date(sp_symbol[, 1]))
head(fp_symbol)
head(fpx_symbol)
mm <- to.monthly(fpx_symbol)
head(mm)
